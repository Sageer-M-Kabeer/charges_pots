<!-- withdrawal_request_change_list.html -->

{% extends 'admin/change_list.html' %}

{% block result_list %}
<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Amount</th>
      <th>Bank Details</th>
      <th>Status</th>
      <th>Timestamp</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for obj in result_list %}
    <tr>
      <td>{{ obj.user }}</td>
      <td>{{ obj.amount }}</td>
      <td>{{ obj.bank_details }}</td>
      <td>{{ obj.status }}</td>
      <td>{{ obj.timestamp }}</td>
      <td>
        {% if obj.status == 'pending' %}
        <a href="{% url 'approve_withdrawal' obj.pk %}" class="btn btn-success">Approve</a>
        <a href="{% url 'reject_withdrawal' obj.pk %}" class="btn btn-danger">Reject</a>
        {% else %}
        <span class="badge badge-secondary">N/A</span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
